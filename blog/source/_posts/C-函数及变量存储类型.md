---
title: C-函数及变量存储类型
date: 2022/3/17
categories: C
tags: C
index_img: https://herozql.oss-cn-beijing.aliyuncs.com/bg_pic/bing_47.jpg
banner_img: https://herozql.oss-cn-beijing.aliyuncs.com/bg_pic/bing_47.jpg
---





- 函数的特性，见书上132页

## 1. 函数的定义与声明
### 1.1 函数的定义
- 指定为static的函数为静态函数，静态函数只能由和它在同一文件的函数调用
- 不能定义返回数组的函数
- int型函数定义时可以省略类型表示符int
- void类型函数不含return或含不带表达式的return语句。又返回值的函数必须至少包含一个带表达式的return语句，表示函数调用至此结束，返回到主调函数的函数调用处
- 对于指针，表达式的类型和函数的类型不相同时，须使用类型强制符将表达式的值转换为函数的类型；对于结构体，表达式的类型与函数定义的类型必须相同

### 1.2 函数的声明
- 见书上136页
- 在定义变量和函数时，不要省略类型表示符,函数的声明一般如下：
```c
存储类型表识符 类型表示符 函数名（形参表）

double power(int x, int y)
```
- 参数表可以只列出参数的类型名而不需要给出参数名
- 对于无参数表的函数，声明时参数表应指定为void
- 实际上，不管是否必须，对所有被调用函数均必须进行声明时较好的编程习惯

## 3. 函数的调用
- C语言中可以定义参数数目可变的函数。定义这种函数时，至少要求要给出一个形参，在列出的最后一个形参后面用逗号后再跟三个点，即 “，…” 来声明该函数的参数数目可变
- 函数的类型与return语句中的表达式不一致，此时以函数类型为准
- 一般情况下提倡函数类型与return语句中的表达式的值一致

## 4. 嵌套与递归
- 函数的定义是不允许嵌套的，但调用是可以
- 应有使递归结束的条件

## 5. 变量的存储类型
- 在局部变量的作用域内，全局变量不起作用
>局部自动变量每次被调用需要重新开辟内存单元
>局部静态变量才程序开始时就获得内存

## 6. 编译预处理
- 宏名一般习惯大写字母表示，以与变量名区别
- 可以用 #ubdef 命令终止宏的作用域
